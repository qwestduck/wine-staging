From 8b38172e836c44f5fd8ed98f7cb20702d0435d35 Mon Sep 17 00:00:00 2001
From: Michael Stefaniuc <mstefani@winehq.org>
Date: Mon, 23 Jul 2018 09:15:07 +0200
Subject: [PATCH] iphlpapi: Use the ARRAY_SIZE() macro

Signed-off-by: Michael Stefaniuc <mstefani@winehq.org>
---
 dlls/iphlpapi/iphlpapi_main.c | 2 +-
 dlls/iphlpapi/ipstats.c       | 8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/dlls/iphlpapi/iphlpapi_main.c b/dlls/iphlpapi/iphlpapi_main.c
index 7911e9d8cf..7de70c9ef4 100644
--- a/dlls/iphlpapi/iphlpapi_main.c
+++ b/dlls/iphlpapi/iphlpapi_main.c
@@ -1717,7 +1717,7 @@ DWORD WINAPI GetIfEntry(PMIB_IFROW pIfRow)
  */
 DWORD WINAPI GetIfEntry2( MIB_IF_ROW2 *row2 )
 {
-    DWORD ret, len = sizeof(row2->Description)/sizeof(row2->Description[0]);
+    DWORD ret, len = ARRAY_SIZE(row2->Description);
     char buf[MAX_ADAPTER_NAME], *name;
     MIB_IFROW row;
 
diff --git a/dlls/iphlpapi/ipstats.c b/dlls/iphlpapi/ipstats.c
index 8f6720ea52..799d03d574 100644
--- a/dlls/iphlpapi/ipstats.c
+++ b/dlls/iphlpapi/ipstats.c
@@ -666,7 +666,7 @@ DWORD WINAPI GetIcmpStatisticsEx(PMIB_ICMP_EX stats, DWORD family)
                         continue;
                     }
 
-                    for (i = 0; i < sizeof(icmpinstatlist)/sizeof(icmpinstatlist[0]); i++)
+                    for (i = 0; i < ARRAY_SIZE(icmpinstatlist); i++)
                     {
                         if (!strcasecmp(buf, icmpinstatlist[i].name))
                         {
@@ -688,7 +688,7 @@ DWORD WINAPI GetIcmpStatisticsEx(PMIB_ICMP_EX stats, DWORD family)
                         continue;
                     }
 
-                    for (i = 0; i < sizeof(icmpoutstatlist)/sizeof(icmpoutstatlist[0]); i++)
+                    for (i = 0; i < ARRAY_SIZE(icmpoutstatlist); i++)
                     {
                         if (!strcasecmp(buf, icmpoutstatlist[i].name))
                         {
@@ -819,7 +819,7 @@ DWORD WINAPI GetIpStatisticsEx(PMIB_IPSTATS stats, DWORD family)
                     if ((ptr = strchr(value, '\n')))
                         *ptr='\0';
 
-                    for (i = 0; i < sizeof(ipstatlist)/sizeof(ipstatlist[0]); i++)
+                    for (i = 0; i < ARRAY_SIZE(ipstatlist); i++)
                         if (!strcasecmp(buf, ipstatlist[i].name))
                         {
                             if (sscanf(value, "%d", &res)) *ipstatlist[i].elem = res;
@@ -1209,7 +1209,7 @@ DWORD WINAPI GetUdpStatisticsEx(PMIB_UDPSTATS stats, DWORD family)
                     if ((ptr = strchr(value, '\n')))
                         *ptr='\0';
 
-                    for (i = 0; i < sizeof(udpstatlist)/sizeof(udpstatlist[0]); i++)
+                    for (i = 0; i < ARRAY_SIZE(udpstatlist); i++)
                         if (!strcasecmp(buf, udpstatlist[i].name))
                         {
                             if (sscanf(value, "%d", &res)) *udpstatlist[i].elem = res;
-- 
2.14.4

