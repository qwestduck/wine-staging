From d3b1d2f5c710ffbb778ae739b3068eb982d0b901 Mon Sep 17 00:00:00 2001
From: Michael Stefaniuc <mstefani@winehq.org>
Date: Tue, 24 Jul 2018 18:43:24 +0200
Subject: [PATCH] winetest: Use the ARRAY_SIZE() macro

Signed-off-by: Michael Stefaniuc <mstefani@winehq.org>
---
 programs/winetest/gui.c  | 2 +-
 programs/winetest/main.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/programs/winetest/gui.c b/programs/winetest/gui.c
index 2948d7e1ad..bda00f3707 100644
--- a/programs/winetest/gui.c
+++ b/programs/winetest/gui.c
@@ -547,7 +547,7 @@ report (enum report_type t, ...)
     }
         
     va_start (ap, t);
-    if (t < sizeof text_funcs / sizeof text_funcs[0]) ret = funcs[t](ap);
+    if (t < ARRAY_SIZE(text_funcs)) ret = funcs[t](ap);
     else report (R_WARNING, "unimplemented report type: %d", t);
     va_end (ap);
     return ret;
diff --git a/programs/winetest/main.c b/programs/winetest/main.c
index b3c3c1c850..56044095f3 100644
--- a/programs/winetest/main.c
+++ b/programs/winetest/main.c
@@ -461,7 +461,7 @@ static void print_language(void)
     if (pGetSystemPreferredUILanguages && !running_under_wine())
     {
         WCHAR langW[32];
-        ULONG num, size = sizeof(langW)/sizeof(langW[0]);
+        ULONG num, size = ARRAY_SIZE(langW);
         if (pGetSystemPreferredUILanguages(MUI_LANGUAGE_ID, &num, langW, &size))
         {
             char lang[32], *p = lang;
@@ -1263,7 +1263,7 @@ int main( int argc, char *argv[] )
             exit (0);
         }
         else if ((argv[i][0] != '-' && argv[i][0] != '/') || argv[i][2]) {
-            if (nb_filters == sizeof(filters)/sizeof(filters[0]))
+            if (nb_filters == ARRAY_SIZE(filters))
             {
                 report (R_ERROR, "Too many test filters specified");
                 exit (2);
-- 
2.14.4

